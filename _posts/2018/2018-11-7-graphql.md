---
layout: post
title:  "ä» GraphQL åˆ° Serveless"
date:   2018-11-7 14:20:33
typora-root-url: ../../../blog
---

### å®šä¹‰

GraphQL å®¢æˆ·ç«¯æŒ‡å®šæŸ¥è¯¢ï¼ˆClient Specified Queriesï¼‰



http://graphql.org/learn/
GraphQLæ˜¯Facebookäº2012å¹´åˆ›å»ºå¹¶äº2015å¹´å¼€æºçš„ä¸€å¥—æŸ¥è¯¢è¯­è¨€APIè§„èŒƒã€‚GraphQLçš„ç±»å‹ç³»ç»Ÿå…è®¸å¼€å‘è€…è‡ªå·±å®šä¹‰æ•°æ®schemaï¼Œå¯ä»¥å¢åŠ æ–°å­—æ®µï¼Œä¹Ÿå¯ä»¥åˆ é™¤æ—§å­—æ®µï¼Œè¿™äº›éƒ½ä¸ä¼šå½±å“å·²æœ‰çš„æŸ¥è¯¢ï¼Œä¹Ÿä¸éœ€è¦ä¿®æ”¹å®¢æˆ·ç«¯ã€‚GraphQLéå¸¸å¼ºå¤§ï¼Œå› ä¸ºå®ƒæ²¡æœ‰ä¸ç‰¹å®šçš„æ•°æ®åº“æˆ–å­˜å‚¨å¼•æ“ç»‘å®šåœ¨ä¸€èµ·ã€‚
GraphQLæœåŠ¡å™¨ä½¿ç”¨ä¸€ä¸ªå•ç‹¬çš„ç«¯ç‚¹æ¥æä¾›æ‰€æœ‰çš„åŠŸèƒ½ã€‚åªè¦å®šä¹‰å¥½èµ„æºä¹‹é—´ç±»å‹å’Œå­—æ®µçš„å…³ç³»ï¼ˆè¿™ä¸ªä¸RESTç«¯ç‚¹ä¸å¤ªä¸€æ ·ï¼‰ï¼ŒGraphQLå°±å¯ä»¥è·Ÿè¸ªå±æ€§ä¹‹é—´çš„å…³ç³»ï¼Œåœ¨å•ä¸ªæŸ¥è¯¢ä¸­ä»å¤šä¸ªèµ„æºè·å–æ•°æ®ã€‚åœ¨ä½¿ç”¨RESTæ—¶ï¼Œå¯èƒ½éœ€è¦ä¸ºå•ä¸ªè¯·æ±‚åŠ è½½å¤šä¸ªURLï¼Œè¿™æ ·ä¸ä»…å¢åŠ äº†ç½‘ç»œè·³è½¬ï¼Œè¿˜æ‹–æ…¢äº†æŸ¥è¯¢é€Ÿåº¦ã€‚é€šè¿‡å‡å°‘ç½‘ç»œè·³è½¬ï¼ŒGraphQLé™ä½äº†å•ä¸ªæ•°æ®è¯·æ±‚æ‰€è¦è€—è´¹çš„èµ„æºã€‚GraphQLè¿”å›çš„æ•°æ®é€šå¸¸æ˜¯JSONæ ¼å¼ã€‚
ä½¿ç”¨GraphQLè¿˜æœ‰å…¶ä»–å¥½å¤„ã€‚é¦–å…ˆï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä¹‹é—´è§£è€¦å¼€äº†ï¼Œè¿™æ ·å°±å¯ä»¥åˆ†å¼€ç»´æŠ¤ã€‚GraphQLä½¿ç”¨ç›¸ä¼¼çš„è¯­è¨€è¿›è¡Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯ä¹‹é—´çš„é€šä¿¡ï¼Œæ‰€ä»¥è°ƒè¯•æ›´åŠ å®¹æ˜“äº†ã€‚æŸ¥è¯¢ç»“æ„ä¸æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®ç»“æ„å®Œå…¨åŒ¹é…ï¼Œå› æ­¤ï¼Œç›¸æ¯”å…¶ä»–è¯­è¨€ï¼Œå¦‚SQLæˆ–Gremlinï¼ŒGraphQLæ›´åŠ é«˜æ•ˆã€‚æŸ¥è¯¢æœ¬èº«å°±åæ˜ äº†å“åº”æ¶ˆæ¯çš„ç»“æ„ï¼Œæ‰€ä»¥å¯ä»¥å¾ˆå®¹æ˜“åœ°æ£€æµ‹å‡ºå·®å¼‚ï¼Œå¦‚æœæ²¡æœ‰æ­£ç¡®å¤„ç†æŸäº›å­—æ®µä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“è¯†åˆ«å‡ºæ¥ã€‚å› ä¸ºæŸ¥è¯¢æ›´ç®€å•äº†ï¼Œæ•´ä¸ªæµç¨‹ä¹Ÿå˜å¾—æ›´ç¨³å®šã€‚è™½ç„¶è¯´GraphQLè§„èŒƒä¸»æ‰“æ”¯æŒå¤–éƒ¨APIï¼Œä½†æˆ‘ä»¬å‘ç°å°†å®ƒç”¨åœ¨å†…éƒ¨APIä¸­ä¹Ÿå¾ˆä¸é”™ã€‚
GraphQLçš„ç”¨æˆ·åŒ…æ‹¬Amplitudeã€Credit Karmaã€KLMã€çº½çº¦æ—¶æŠ¥ã€Twitchã€Yelpç­‰ã€‚å»å¹´11æœˆï¼Œäºšé©¬é€Šæ¨å‡ºçš„AppSyncå°±æä¾›äº†GraphQLæ”¯æŒï¼Œå¯è§å®ƒæœ‰å¤šä¹ˆæµè¡Œã€‚åœ¨å­˜åœ¨gRPCå’ŒTwitch Twirpè¿™äº›RPCæ¡†æ¶çš„å‰æä¸‹ï¼Œçœ‹ç€GraphQLçš„å‘å±•çœŸæ˜¯ä¸€ä»¶æœ‰è¶£çš„äº‹æƒ…ã€‚http://www.infoq.com/cn/articles/5-microservices-trends-to-watch-in-2018

* [Mediumè¿ç§»åˆ°åŸºäºReact.jså’ŒGraphQLçš„æ¶æ„](http://www.infoq.com/cn/news/2018/05/medium-reactjs-graphql-migration)
* [ä¸ºä»€ä¹ˆè¯´ GraphQL å¯ä»¥å–ä»£ REST APIï¼Ÿ](https://www.infoq.cn/article/LVQGuC3vQX-T3PpVCkHt)

https://developer.github.com/v4/guides/intro-to-graphql/ GitHubå·²ç»æ¢æˆè¿™ä¸ªï¼Œå…¶ä¹Ÿæä¾›ç›´æ¥è¿è¡Œæµ‹è¯•çš„ web uiï¼Œå¾ˆä¸é”™ã€‚
GraphQL API Explorer ç¼–è¾‘å™¨ https://developer.github.com/v4/explorer/
```
query {
  repository(owner: "facebook", name: "react") {
    name
    nameWithOwner
    description
  }
}
```
ä¹Ÿèƒ½åš request schema æ ¡éªŒï¼Œæ¯”å¦‚æŸ¥è¯¢å¿…å¡«é¡¹ã€è¿”å›å­—æ®µåï¼Œç›¸å½“äºå¯¹æ¥å£é™æ€ç±»å‹åŒ–ï¼Œèƒ½æé«˜ç¼–ç¨‹æ•ˆç‡ã€‚ä¸Šé¢æŸ¥è¯¢æ¡ä»¶ä¸­ name æ˜¯å¿…å¡«çš„ï¼Œå¦‚æœæ²¡æœ‰ï¼Œç•Œé¢ä¼šé©¬ä¸Šç»™å‡ºæ ¡éªŒé”™è¯¯ã€‚è¿”å›å­—æ®µä¸­å¦‚æœéšä¾¿å¡«äº†å­—æ®µé¡µä¼šé©¬ä¸Šç»™å‡ºé”™è¯¯æç¤ºã€‚è¿™è¯´æ˜è¿™ä¸ª query æ˜¯é¢„å…ˆå£°æ˜å¼å®šä¹‰å¥½çš„ã€‚è¿™å¯èƒ½æ˜¯ introspection çš„ç‰¹å¾ï¼šèƒ½äº†è§£ API çš„å„ç§ç»†èŠ‚ã€‚

Relay æ˜¯è¿æ¥ GraphQL å’Œ React çš„ä¸€åº§æ¡¥æ¢ã€‚[GraphQLèƒ½å–ä»£ Reduxå—ï¼Ÿ](https://mp.weixin.qq.com/s?__biz=MzUxMzcxMzE5Ng==&mid=2247489503&idx=1&sn=a18c47263b605e6c49e613f913c7f51d&chksm=f951a29cce262b8a34b54ba6db8c8c1116d19f457fc141612f15f447134c14302c84247aafce&token=282853018&lang=zh_CN#rd) è¿™æ˜¯ä¸€ç±»ä¸œè¥¿ï¼Ÿå› ä¸º React å¯¹æ•°æ®/çŠ¶æ€ç®¡ç†æ˜¯å¾ˆä¸¥æ ¼çš„ï¼Œæ‰€ä»¥æ–°çš„æ•°æ®æ¨¡å‹å¿…ç„¶è¦ React é‡æ–°é€‚åº”äº†ã€‚

LinuxåŸºé‡‘ä¼šå®£å¸ƒå°†ä¸ºGraphQLæˆç«‹åŸºé‡‘ä¼šï¼Œæƒ¹çš„æˆ‘åˆçœ‹äº†çœ‹è¿™ä¸ªæŠ€æœ¯ï¼Œæƒ³æƒ³æœ€è¿‘çš„å¾ˆå¤šåç«¯å·¥ä½œéƒ½æ˜¯æŠŠå‡ æ¡æ•°æ®åˆåœ¨ä¸€èµ·ç„¶åè¿”å›è¿™ç§çç¢çš„äº‹æƒ…ã€‚æ¯”å¦‚ A åŒ…å«å¤šä¸ª Bï¼Œåœ¨æ˜¾ç¤º A è¯¦ç»†ä¿¡æ¯çš„æ—¶å€™ï¼Œä¹Ÿé¡ºå¸¦æ˜¾ç¤ºå…¨éƒ¨çš„ B åˆ—è¡¨ï¼Œè€ŒåŸæ¥æ˜¯åˆ†å¼€æˆä¸¤ä¸ª APIã€‚ç±»ä¼¼çš„å„ç§ç»„åˆå¾ˆå¤šï¼Œåç«¯æ”¹èµ·æ¥å¦‚æœç†Ÿæ‚‰çš„å¾ˆå¿«ï¼Œä½†æ˜¯è°ƒè¯•-æµ‹è¯•-éƒ¨ç½²è¿™ä¸ªæ•ˆç‡å¤ªä½ã€‚GraphQL èƒ½åšåˆ°è¿™ç‚¹ï¼Ÿèƒ½æœ‰å¤šå¤§çš„çµæ´»æ€§ï¼Ÿå‰é¢æ˜¯åšä¸ªè¯·æ±‚çš„ç»„åˆä¾‹å­ï¼Œå¯¹äºå¤šä¸ªè¯·æ±‚é¡ºåºè¿æ¥ï¼Œæ¯”å¦‚ A æˆåŠŸäº†åœ¨åš B å†åš Cï¼ŒGraphQLæœ‰æ²¡æœ‰ç±»ä¼¼ä¼˜åŒ–å‘¢ï¼Ÿ
```
type Document { 
  title: String! 
  content: String! 
  author: User!
}
```
å¦‚æ­¤å°±ç®€å•çš„å®šä¹‰äº†å…³ç³»ï¼Œè¿™å¤§æ¦‚ä¹Ÿæ˜¯ Graph - å›¾å…³ç³»çš„æ¥æºã€‚æ¯”å¦‚åœ¨ github ä¸­æŸ¥è¯¢æŸä¸ªä»“åº“ä¸‹é¢çš„å‰10ä¸ª issueï¼š
```
{
  repository(owner: "facebook", name: "react") {
    name
    nameWithOwner
    description
    createdAt
    updatedAt
    issues(first: 10) {
      nodes {
        title
        number
        state
      }
    }
  }
}
```
å…¶å¯¹äºé”™è¯¯çš„å¤„ç†ä¹Ÿå¾ˆæœ‰å¯å‘ï¼Œæ¯”å¦‚æŸ¥è¯¢ä¸€ä¸ªä¸å­˜åœ¨çš„ issueï¼š
```
{
  repository(owner: "facebook", name: "react") {
    name
    nameWithOwner
    description
    createdAt
    updatedAt
    issue (number: 23){
      title
      number
      state
    }
  }
}
```
å…¶è¿”å›çš„é”™è¯¯ä¿¡æ¯ï¼š
```
{
  "data": {
    "repository": {
      "name": "react",
      "nameWithOwner": "facebook/react",
      "description": "A declarative, efficient, and flexible JavaScript library for building user interfaces.",
      "createdAt": "2013-05-24T16:15:54Z",
      "updatedAt": "2018-11-07T07:18:01Z",
      "issue": null
    }
  },
  "errors": [
    {
      "message": "Could not resolve to an Issue with the number of 23.",
      "type": "NOT_FOUND",
      "path": [
        "repository",
        "issue"
      ],
      "locations": [
        {
          "line": 8,
          "column": 5
        }
      ]
    }
  ]
}
```
éƒ¨åˆ†æ­£ç¡®ï¼Œéƒ¨åˆ†ä¸ºç©ºã€‚Kubernetes Dashboard Go Backend é‡Œé¢æœ‰å¾ˆå¤šè¿™ç§åšæ³•ã€‚OpenAPI æ ‡å‡†ä¹ˆï¼Ÿ

ç°åœ¨å‰ç«¯æ˜¯æ–¹ä¾¿äº†ï¼Œåç«¯å‘¢ï¼Ÿæ„Ÿè§‰è¿™ä¸ªåœ°æ–¹åœ¨å¯¹äºæ•°æ®å…³ç³»çš„å¤„ç†ä¼šå¾ˆéº»çƒ¦ï¼Œè¦è€ƒè™‘å„ç§æƒ…å†µã€‚ä¸€ç§æ–°çš„ç¼–ç¨‹æ¨¡å‹äº†ã€‚
https://github.com/chentsulin/awesome-graphql äº‘è®¡ç®—é¢†åŸŸé‡åˆ°çš„ä¼¼ä¹ä¸å¤šï¼Œå¤§å¤šä¸ºå¤§çš„å…¬æœ‰æœåŠ¡æ¯”å¦‚ GitHubã€‚æœ‰æ²¡æœ‰å¥½çš„åç«¯ä¾‹å­å‘¢ï¼Ÿ
Kubernetes + GraphQL https://github.com/yipeeio/kubeiql å…³æ³¨ä¸å¤šï¼Œã€The goal of this project is to provide an alternative GraphQL interface to a Kubernetes cluster. It is not intended to entirely replace the ReST APIs as some of them (particularly the watch APIs) don't map well onto GraphQL.ã€* Queries are currently supported against Pods, Deployments, ReplicaSets, StatefulSets, and DaemonSets. æŒ‰ç†æ¥è¯´è¿™ç§å±‚çº§å…³ç³»å¤šçš„ç”¨ GraphQL æ˜¯å¾ˆè´´åˆçš„ã€‚

æœ‰ schema / query å®šä¹‰çš„æ–‡ä»¶ä¹ˆï¼Ÿæœ€å¥½å’Œ Swagger ä¸€æ ·èƒ½ç›´æ¥ç”Ÿæˆä»£ç ã€‚

### Think

è–„è–„çš„ä¸€å±‚å‰ç«¯æ§åˆ¶å±‚ï¼ŒBFFï¼Œ Backend For Frontendï¼ˆæœåŠ¡äºå‰ç«¯çš„åç«¯ï¼‰ã€‚å…¶é¸¡è‚‹ä¸åœ¨äºå¼€å‘çš„é‡å¤åŠ³åŠ¨ï¼Œè€Œåœ¨äºå¼€å‘çš„æ•ˆç‡ã€‚å¯¹äºå­˜åœ¨æ ¸å¿ƒ API çš„è¿™ç§ï¼ŒBFF ä½œä¸ºå‰ç«¯å’Œæ ¸å¿ƒ API çš„ä¸­é—´å±‚ï¼Œåå¤çš„è°ƒè¯•å’Œå‘å¸ƒéƒ½æ˜¯å¾ˆè€—æ—¶çš„ï¼Œæ›´ä¸è¦è°ˆæ¥å£å˜åŒ–äº†ã€‚
ç¼ºç‚¹ä¹ˆï¼šå¯¹å‰åç«¯éƒ½æœ‰ä¾µå…¥æ€§ï¼Œæ˜¯ä¸€å¥—æ–¹æ¡ˆã€‚
å¦‚æœåå‘ä»£ç†æ¯”å¦‚ Nginx åœ¨å‰åç«¯åˆ†ç¦»ä¸­çš„è§’è‰²æ˜¯ HTTP ä»£ç†ï¼ˆç½‘ç»œå±‚ï¼‰ï¼ŒGraphQL å°±æ˜¯æ›´ä¸Šä¸€æ¬¡çš„åº”ç”¨å±‚ï¼ˆæ•°æ®å±‚ï¼‰çš„**ä»£ç†**ã€‚

### Hasura - Instant Realtime GraphQL on Postgres
æˆ‘ç”¨çš„æ˜¯ k8s å®‰è£… https://docs.hasura.io/1.0/graphql/manual/deployment/kubernetes/index.html
https://github.com/hasura/graphql-engine Haskell, Go, JavaScriptï¼Œå¥½åŠçš„é¡¹ç›®

![D9927EB4-1B13-40D0-B951-67713D6B1ADE](/images/2018/hasura-ui.png)

åœ¨ student ä¸­åŠ äº†è¿™ä¸ªå…³ç³»åï¼ŒGraphQL ç¼–è¾‘å™¨ä¸­æ‰å¯ä»¥è¿™æ ·å†™ï¼š
```
query {
  student(limit: 10) {
    name
    student_classroom{
      name
    }
  }
}
```
æˆ‘çœ‹äº†ä¸‹ï¼Œåœ¨ Postgres ä¸­å¹¶æ²¡æœ‰å»ºç«‹å¤–é”®ï¼Œçœ‹äº†æ˜¯ Hasura è‡ªå·±ç»´æŠ¤çš„å…³ç³»ï¼Œè€Œä¸”åœ¨ query classroom ä¸­å¹¶æ²¡æœ‰è‡ªåŠ¨çš„å»ºç«‹åå‘çš„å…³ç³»ã€‚ï¼ˆé¡µé¢ä¸Šä¼¼ä¹ç”±åœ°æ–¹å¯ä»¥æ ¹æ®æ•°æ®åº“çš„å¤–é”®å…³ç³»ï¼Œç‚¹å‡»ã€addã€æŒ‰é’®è‡ªåŠ¨æŠŠå…³ç³»åŒæ­¥åˆ° engine é‡Œé¢æ¥ã€‚ï¼‰

å…¶éƒ¨ç½²æ¶æ„ä¸ºï¼š

![EAE10CCA-5065-42E3-BD75-DF415B92B9C1](/images/2018/hasura-arch.png)

å¯¹å·²æœ‰çš„ Postgres çš„ä¸€ä¸ª GraphQL ä»£ç†ï¼Œä½†æ˜¯ Hasura éœ€è¦ç»´æŠ¤ table schemaï¼Œå…¶æœ¬èº«æä¾›åˆ›å»º table å’Œå®šä¹‰ schema çš„åŠŸèƒ½ã€‚ä¹Ÿå¯ä»¥å¯¼å…¥æˆ–è€…å¯¼å‡º Hasura Metadata - it stores information about your tables, relationships, and permissions that is used to generate the GraphQL schema and API.ã€‚
ä¸ºä»€ä¹ˆä¸æ‰©å±•åˆ°ä»»æ„çš„å…³ç³»æ•°æ®åº“å‘¢ï¼Ÿ

![F177EA95-4EB7-4D23-9B48-1660100B7D05](/images/2018/hasura-arch2.svg)

æ¥æºï¼šhttps://github.com/hasura/graphql-engine
æ”¯æŒç¬¬ä¸‰ä¸ªè®¤è¯ï¼ŒåŸæ¥æœ‰ä¸ª GraphQL Proxy çš„ä¸œè¥¿ï¼Œæ•°æ®åº“èµ°å‘å¾®æœåŠ¡åŒ–äº†å•Šï¼

Trigger webhooks or serverless functions: On Postgres insert/update/delete events
https://github.com/hasura/graphql-engine/blob/master/event-triggers.md 
ä¸€ä¸ªæœ‰è¶£çš„ featureï¼ŒBuilding reactive UX for your async backend with realtime GraphQL
è¿™ä¸ª event triggers æ˜¯ Postgres çš„ä¸“æœ‰ç‰¹æ€§ä¹ˆï¼Ÿ
è¦è¿™ä¸ªæå•¥å‘¢ï¼Ÿå®æ—¶çš„æ•°æ®ç›‘æ§åº”ç”¨ï¼Ÿå‰åç«¯çš„ä¸€æ•´å¥—æ–¹æ¡ˆï¼Œèƒ½å‡å°‘å¼€å‘æ—¶é—´ã€‚
GraphQL å¯ä»¥æœ‰è®¢é˜…åŠŸèƒ½ï¼Ÿ

![11C10999-7DCC-47AC-84FD-0A10558B2FA6](/images/2018/hasura-arch3.png)


ä»–ä¹Ÿæä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„ demo https://github.com/coco98/hasura-serverlessï¼Œå¯ä»¥ç›´æ¥è¿è¡Œã€‚è¿è¡Œæ—¶ä¼šèµ·ä¸€ä¸ª web socketï¼š
```
	wss://serverless-demo.hasura.app/v1alpha1/graphql
```
è¿™æ ·é¡µé¢èƒ½è·Ÿéšæ•°æ®å®æ—¶å˜åŒ–ã€‚
å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå‰ç«¯åªå’Œ Hasura Engine æ‰“äº¤é“ï¼Œmutation[åŸºå› çªå˜ï¼Œè¿™äº›äººè°ƒçš®] ç”¨æ¥åˆ›å»ºä¸€ä¸ªè®¢å•ï¼Œå°”åéƒ½éƒ½æ˜¯è‡ªåŠ¨è§¦å‘çš„ï¼Œè¢«è§¦å‘çš„éƒ½æ˜¯ Node.js serverless functionï¼Œéƒ¨ç½²åœ¨ awsä¸Šé¢ï¼Œéƒ¨ç½²å¥½ååœ°å€å¡«å…¥ GraphQL Engine Events ç•Œé¢ï¼Œè¿™äº›å¾®æœåŠ¡åä¹Ÿä¼šå‘é€ä¸€ä¸ª mutation è¯·æ±‚å›æ¥ï¼Œæ¥ä¿®æ”¹æ•°æ®åº“ï¼Œè¿™æ ·å°±ä¼šè§¦å‘ graphql subscriptionã€‚
å¦‚æœæˆ‘è‡ªå·±åœ¨ postgres client é‡Œé¢ä¿®æ”¹äº†æ•°æ®ï¼Œä¼šè§¦å‘æ¶ˆæ¯ä¹ˆï¼Ÿåº”è¯¥ä¼šï¼Œé‚£è¿™ä¸ªæ¶ˆæ¯è§¦å‘æ˜¯ Postgres è‡ªå·±å¸¦çš„åŠŸèƒ½äº†ï¼Ÿ

å…¶ UI çš„ä»£ç ä¸»è¦åŸºäº https://www.apollographql.com/docs/react/ Apollo Client is the best way to use GraphQL to build client applications. æ”¯æŒä¸Šé¢æåˆ°çš„ Mutation, subscriptions.è¿™ä¸ª GraphQL ç”Ÿæ€ä¼¼ä¹å¾ˆæˆç†Ÿäº†å•Šï¼

ä¸Šå›¾çš„ engine å’Œ postgres æ˜¯è‡ªå·±éƒ¨ç½²åœ¨ä¸€èµ·çš„ä¸€ä¸ªæœåŠ¡ï¼ˆä¸æ˜¯æ— æœåŠ¡åŒ–çš„ï¼‰ï¼Œå¯ä»¥æ˜¯ä¼ä¸šå†…éƒ¨æ•°æ®åº“ï¼Œææ··åˆäº‘ä¹ˆï¼Ÿå…¶å®è¿™å—å¦‚æœç”¨ aws æä¾›çš„ k-v db ä¹Ÿå¯ä»¥åšåˆ°æ— æœåŠ¡åŒ–ï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰åšå‘¢ï¼Ÿä¼ä¸šå†…éƒ¨æ•°æ®åº“æ— ç–‘äº†ã€‚å¦‚æ­¤ä¸€çœ‹ï¼Œè¿™ä¸ª Hasura çš„ç›®çš„å°±å¾ˆæ¸…æ¥šäº†ï¼ŒåŸæ¥æ˜¯åšæ— æœåŠ¡åŒ–çš„ã€‚æ—¢ç„¶å¦‚æ­¤ï¼Œå°±åº”è¯¥æ”¯æŒé—ç•™æ•°æ®åº“æ¯”å¦‚ MySql äº†ï¼Œè¿™ä¸ªä¿æœ‰é‡åº”è¯¥å¾ˆå¤§äº†ã€‚æäº†ä¸€ä¸ª [issue Any plan to support other db like MySql? ](https://github.com/hasura/graphql-engine/issues/1035)

è¿™ä¸ªæ¶æ„èƒ½åŠ å¿«å¼€å‘æ•ˆç‡ï¼Œä½†æ˜¯å¯¹äºæ€§èƒ½å‘¢ï¼Ÿserverless æ”¾åœ¨æœ€åè€Œä¸æ˜¯æœ€å‰ï¼Œserverless çš„å¼‚æ­¥æ›´æ–°è®¿é—®çš„æ˜¯ graphql engineï¼Œè¿™å¯¼è‡´å‹åŠ›éƒ½åœ¨ graphql engine ï¼Œå¾ˆå¤§ç“¶é¢ˆã€‚ä¸è¿‡æ—¢ç„¶æ•°æ®åº“è¿™å—æ˜¯ç‹¬ç«‹éƒ¨ç½²ï¼Œæ€§èƒ½åº”è¯¥ä¸å·®ã€‚é¦–é¡µè¯´è¿™ä¸ªå¯ä»¥è¿è¡Œåœ¨ Heroku Free Tier (dyno + postgres)ï¼Œå¼€å‘è€…ä¸ä¼šæ˜¯ç¾Šæ¯›å…šå§ğŸ˜‚ã€‚

å¯¹äº serverless åå‘è®¿é—®ï¼Œå¦‚ä½•è¿›è¡Œå®‰å…¨æ§åˆ¶ï¼ŸOpenIdï¼Ÿ








